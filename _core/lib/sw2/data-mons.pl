#################### ç¨®æ— ####################
use strict;
use utf8;
use Clone qw(clone);

package data;

## â—åˆ†é¡žãƒªã‚¹ãƒˆ
 # ['' , '']
our @taxa = (
  ['æœªåˆ†é¡ž'    , '99' , ''],
  ['è›®æ—'      , '01' , ''],
  ['å‹•ç‰©'      , '02' , ''],
  ['æ¤ç‰©'      , '03' , ''],
  ['ã‚¢ãƒ³ãƒ‡ãƒƒãƒ‰', '04' , ''],
  ['é­”æ³•ç”Ÿç‰©'  , '05' , ''],
  ['é­”å‹•æ©Ÿ'    , '06' , ''],
  ['å¹»ç£'      , '07' , ''],
  ['å¦–ç²¾'      , '08' , ''],
  ['é­”ç¥ž'      , '09' , ''],
  ['äººæ—'      , '10' , ''],
  ['ç¥žæ—'      , '11' , ''],
  ['ãã®ä»–'    , '88' , ''],
);

our @treasureEnhancements = (
    {
        'name'      => 'å¼±ç‚¹å€¤ä¸Šæ˜‡',
        'fieldName' => 'increaseWeaknessGuard',
        'steps'     => {
            1  => '+1',
            2  => '+2',
            4  => '+3',
            6  => '+4',
            8  => '+5',
            10 => '+6',
        },
    },
    {
        'name'      => 'å…ˆåˆ¶å€¤ä¸Šæ˜‡',
        'fieldName' => 'increaseInitiative',
        'steps'     => {
            1  => '+1',
            2  => '+2',
            4  => '+3',
            6  => '+4',
            8  => '+5',
            10 => '+6',
        },
    },
    {
        'name'        => 'çž¬é–“æ‰“æ’ƒç‚¹',
        'fieldName'   => 'momentaryDamage',
        'steps'       => {
            1  => '+2',
            2  => '+4',
            3  => '+6',
            4  => '+8',
            6  => '+10',
            8  => '+12',
            10 => '+14',
        },
        'description' => "æ‰“æ’ƒç‚¹æ±ºå®šã®ï¼’ï½„ã‚’æŒ¯ã‚Šã€å‡ºç›®ã‚’ç¢ºèªã—ãŸå¾Œã€{abs}ç‚¹ã ã‘ã€æ‰“æ’ƒç‚¹ã‚’ä¸Šæ˜‡ã•ã›ã‚‰ã‚Œã¾ã™ã€‚\nï¼‘æ—¥ã®é–“ã«{count}å›žã¾ã§é©ç”¨ã§ãã¾ã™ãŒã€10ç§’ï¼ˆï¼‘ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰ã®é–“ã«ã¯1å›žã¾ã§ã—ã‹é©ç”¨ã§ãã¾ã›ã‚“ã€‚\nã“ã‚Œã¯ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼å¼·åŒ–èƒ½åŠ›ã§ã™ã€‚",
    },
    {
        'name'        => 'çž¬é–“é˜²è­·ç‚¹',
        'fieldName'   => 'momentaryDefense',
        'steps'       => {
            1  => '+2',
            2  => '+4',
            3  => '+6',
            4  => '+8',
            6  => '+10',
            8  => '+12',
            10 => '+14',
        },
        'description' => "ï¼‘æ—¥ã«ï¼‘å›žã ã‘ã€ç‰©ç†ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ã¦é˜²è­·ç‚¹ã‚’é©ç”¨ã™ã‚‹ã¨ãã€{abs}ç‚¹ã ã‘ã€é˜²è­·ç‚¹ã‚’ä¸Šæ˜‡ã•ã›ã‚‰ã‚Œã¾ã™ã€‚åˆç®—ãƒ€ãƒ¡ãƒ¼ã‚¸ãŒç¢ºå®šã—ãŸå¾Œã«ã€ã“ã®åŠ¹æžœã‚’ä½¿ã†ã‹ã©ã†ã‹ã‚’é¸æŠžã—ã¾ã™ã€‚\nã“ã‚Œã¯ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼å¼·åŒ–èƒ½åŠ›ã§ã™ã€‚",
    },
    {
        'name'        => 'çž¬é–“é”æˆå€¤',
        'fieldName'   => 'momentaryAchievement',
        'steps'       => {
            1  => '+1',
            2  => '+2',
            4  => '+3',
            6  => '+4',
            8  => '+5',
            10 => '+6',
        },
        'description' => "ï¼‘æ—¥ã«ï¼‘å›žã ã‘ã€è¡Œç‚ºåˆ¤å®šã®é”æˆå€¤ã‚’æ±‚ã‚ã¦ã‹ã‚‰ã€ãã®é”æˆå€¤ã‚’{abs}ã ã‘ä¸Šæ˜‡ã•ã›ã‚‰ã‚Œã¾ã™ã€‚å¯¾æŠ—åˆ¤å®šãªã©ã®å ´åˆã€ãã®çµæžœã‚’è¦†ã™ç›®çš„ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nã“ã‚Œã¯ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼å¼·åŒ–èƒ½åŠ›ã§ã™ã€‚",
    },
    {
        'name'        => 'è¿½åŠ æ”»æ’ƒ',
        'fieldName'   => 'additionalAttack',
        'steps'       => {
            1  => 'â‘¥ï¼1',
            2  => 'â‘¤â‘¥ï¼1',
            4  => 'â‘¤â‘¥ï¼2',
            7  => 'â‘£â‘¤â‘¥ï¼2',
            10 => 'â‘£â‘¤â‘¥ï¼3',
        },
        'description' => "æ‰‹ç•ªçµ‚äº†æ™‚ã«ï¼‘ï½„ã‚’æŒ¯ã‚Šã€{left}ã®å‡ºç›®ã‚’å¾—ã‚‹ã¨ã€è¿‘æŽ¥æ”»æ’ƒã‚’è¿½åŠ ã§ï¼‘å›žè¡Œã„ã¾ã™ã€‚ã“ã®è¿½åŠ ã¯ã€æ”»æ’ƒå›žæ•°ã‚„æ©Ÿä¼šã‚’å¢—ã‚„ã™èƒ½åŠ›ã‚’æŒã£ã¦ã„ãŸã¨ã—ã¦ã‚‚è€ƒæ…®ã•ã‚Œãšã€è¿‘æŽ¥æ”»æ’ƒï¼‘å›žã®ã¿ã§ã™ã€‚ã“ã®åŠ¹æžœã¯æ‰‹ç•ªã®çµ‚äº†ã”ã¨ã«ï¼‘å›žã®ã¿ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€{right}å›žã ã‘è¿½åŠ ã®æ”»æ’ƒãŒç™ºç”Ÿã—ãŸã‚‰ã€ç¿Œæ—¥ã¾ã§ã“ã®åŠ¹æžœã¯ã„ã£ã•ã„ç¾ã‚Œãªããªã‚Šã¾ã™ã€‚\nã“ã‚Œã¯ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼å¼·åŒ–èƒ½åŠ›ã§ã™ã€‚",
    },
    {
        'name'        => 'å‘ªã„ã®æ³¢å‹•',
        'fieldName'   => 'curseWave',
        'steps'       => {
            1  => 'ï¼‘ç‚¹',
            3  => 'ï¼’ç‚¹',
            5  => 'ï¼“ç‚¹',
            7  => 'ï¼”ç‚¹',
            10 => 'ï¼•ç‚¹',
        },
        'description' => "ã“ã®åŠ¹æžœã¯ï¼‘æ—¥ã«ï¼‘å›žã ã‘ä½¿ç”¨å¯èƒ½ã§ã€ä½¿ç”¨ã®å®£è¨€å¾Œã€é€£ç¶šã—ãŸï¼‘åˆ†ï¼ˆï¼–ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰ã®é–“ã ã‘åŠ¹æžœãŒç™ºç”Ÿã—ã¾ã™ã€‚\nåŠ¹æžœãŒç™ºç”Ÿä¸­ã¯ã€è‡ªèº«ã®æ‰‹ç•ªçµ‚äº†æ™‚ã«è‡ªå‹•çš„ã«ï¼‘å›žã€ã€Œå°„ç¨‹ï¼šæŽ¥è§¦ã€ã€Œå¯¾è±¡ï¼šï¼‘ä½“ã€ã«ã€ŒæŠµæŠ—ï¼šå¿…ä¸­ã€ã§ã€{value}ã®ã€å‘ªã„å±žæ€§ã®ç¢ºå®šãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸Žãˆã¾ã™ã€‚\nã“ã‚Œã¯ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼å¼·åŒ–èƒ½åŠ›ã§ã™ã€‚",
    },
    {
        'name'        => 'ä¸–ç•Œã®æ±šæŸ“',
        'fieldName'   => 'worldPollution',
        'steps'       => {
            2  => 'å¨åŠ›10',
            4  => 'å¨åŠ›20',
            6  => 'å¨åŠ›30',
            8  => 'å¨åŠ›40',
            10 => 'å¨åŠ›50',
        },
        'description' => "ï¼‘æ—¥ã«ï¼‘å›žã ã‘ã€æˆ¦é—˜è¡Œç‚ºã«ã‚ˆã£ã¦åˆã‚ã¦è‡ªèº«ã®ï¼¨ï¼°ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ãŸã¨ãã€è‡ªå‹•çš„ã«ã€Œå°„ç¨‹ï¼šè‡ªèº«ã€ã§ã€Œå¯¾è±¡ï¼šå…¨ã‚¨ãƒªã‚¢ï¼ˆåŠå¾„20ï½ï¼‰ï¼ã™ã¹ã¦ã€ã«ã€ã€ŒæŠµæŠ—ï¼šå¿…ä¸­ã€ã§ã€ã€Œ{value}ï¼ï¼£å€¤â‘©ã€ï¼ˆã®ã¿ï¼‰ã®ã€æ¯’å±žæ€§ã®é­”æ³•ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸Žãˆã¾ã™ã€‚ã“ã®ã¨ãã€ä»»æ„ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’åŠ¹æžœã‹ã‚‰é™¤å¤–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã‚Œã¯ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼å¼·åŒ–èƒ½åŠ›ã§ã™ã€‚",
    },
);

sub getTreasureEnhancementByName {
    my $name = shift;

    foreach (@treasureEnhancements) {
        my %enhancement = %{$_};

        return %enhancement if $enhancement{name} eq $name;
    }
}

sub getTreasureEnhancementValue {
    my $name = shift;
    my $point = shift;
    my %enhancement = getTreasureEnhancementByName($name);
    my %steps = %{$enhancement{steps}};
    return $steps{$point};
}

my @golemReinforcementItems = (
    {name => "çŒ«ç›®çŸ³ã®é‹²", fieldName => "catsEye", prices => {"å°" => 200, "ä¸­" => 800, "å¤§" => 4000}, ability => "â–¶ï¼’å›žæ”»æ’ƒ"},
    {name => "çŒ«ç›®çŸ³ã®é‡‘é‹²", fieldName => "catsEyeGold", prices => {"å°" => 200, "ä¸­" => 800, "å¤§" => 4000}, ability => "â–¶ï¼’å›žæ”»æ’ƒï¼†åŒæ’ƒ", prerequisiteItem => "çŒ«ç›®çŸ³ã®é‹²"},
    {name => "è™Žç›®çŸ³ã®é‹²", fieldName => "tigersEye", prices => {"å°" => 150, "ä¸­" => 600, "å¤§" => 3000}, ability => "â—¯é€£ç¶šæ”»æ’ƒ"},
    {name => "è™Žç›®çŸ³ã®é‡‘é‹²", fieldName => "tigersEyeGold", prices => {"å°" => 300, "ä¸­" => 1200, "å¤§" => 6000}, ability => "â—¯é€£ç¶šæ”»æ’ƒâ…¡", prerequisiteItem => "è™Žç›®çŸ³ã®é‹²"},
    {name => "é»’çŽ‰ã®å°", fieldName => "jet", prices => {"å°" => 100, "ä¸­" => 400, "å¤§" => 2000}, ability => "ðŸ—¨ç‹™ã„æ‰“ã¤"},
    {name => "å¤ªé™½çŸ³ã®è¼ã", fieldName => "sunstone", prices => {"ä¸­" => 1200, "å¤§" => 6000}, ability => "â–¶æŒ¯ã‚Šã‹ã¶ã‚‹", additionalField => "æ‰“æ’ƒç‚¹"},
    {name => "å°–æ™¶çŸ³ã®è§’", fieldName => "spinel", prices => {"å°" => 150, "ä¸­" => 600, "å¤§" => 3000}, ability => "â–¶ãƒãƒ£ãƒ¼ã‚¸"},
    {name => "å­”é›€çŸ³ã®ç¾½æ ¹", fieldName => "malachite", prices => {"å°" => 150, "ä¸­" => 600, "å¤§" => 3000}, ability => "ðŸ—¨æ¸¾èº«æ”»æ’ƒ"},
    {name => "ç‘ ç’ƒã®éŒ˜", fieldName => "lapisLazuli", prices => {"å°" => 200, "ä¸­" => 800, "å¤§" => 4000}, ability => "ðŸ—¨ãƒ†ã‚¤ãƒ«ã‚¹ã‚¤ãƒ³ã‚°â… "},
    {name => "çŽ»ç’ƒã®å¢—éŒ˜", fieldName => "crystalAdditionalWeight", prices => {"å°" => 300, "ä¸­" => 1200, "å¤§" => 6000}, ability => "ðŸ—¨ãƒ†ã‚¤ãƒ«ã‚¹ã‚¤ãƒ³ã‚°â…¡", prerequisiteItem => "ç‘ ç’ƒã®éŒ˜"},
    {name => "ç´…è“®ã®ç´…çŽ‰", fieldName => "ruby", prices => {"ä¸­" => 1600, "å¤§" => 8000}, ability => "â–¶ç«ç‚Žã®ãƒ–ãƒ¬ã‚¹", additionalField => "è©³ç´°"},
    {name => "ç´«é›»ã®ç´«æ°´æ™¶", fieldName => "amethyst", prices => {"å°" => 600, "ä¸­" => 1600, "å¤§" => 8000}, ability => "â–¶é›»æ’ƒï¼â–¶é›»å…‰", additionalField => "è©³ç´°"},
    {name => "é’è“®ã®é’çŽ‰", fieldName => "sapphire", prices => {"å°" => 600, "ä¸­" => 1600, "å¤§" => 8000}, ability => "â–¶æ°´é‰„ç ²ï¼â–¶æ°·é›ªã®ãƒ–ãƒ¬ã‚¹", additionalField => "è©³ç´°"},
    {name => "æ–¹è§£çŸ³ã®è¤‡çœ¼", fieldName => "calcite", prices => {"ä¸­" => 800, "å¤§" => 4000}, ability => "â—¯ãƒ–ãƒ¬ã‚¹åˆ¶å¾¡"},
    {name => "é»’æ›œçŸ³ã®ç›¾", fieldName => "obsidian", prices => {"å°" => 150, "ä¸­" => 600, "å¤§" => 3000}, ability => "ðŸ—¨â–³ã‹ã°ã†", abilitySuffixes => {"å°" => "â… ", "ä¸­" => "â…¡", "å¤§" => "â…¡"}},
    {name => "é‹¼çŽ‰ã®å®ˆè­·", fieldName => "corundum", prices => {"å°" => 100, "ä¸­" => 400, "å¤§" => 2000}, ability => "â—¯ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³", abilitySuffixes => {"å°" => "â… ", "ä¸­" => "â… ", "å¤§" => "â…¡"}},
    {name => "ç¥ç€ã®ç›®", fieldName => "amber", prices => {"å°" => 500, "ä¸­" => 2000, "å¤§" => 10000}, ability => "â—¯ç©¶æ¥µã®ç‹™ã„"},
    {name => "çŠç‘šã®æž", fieldName => "coral", prices => {"å°" => 100, "ä¸­" => 400, "å¤§" => 2000}, ability => "â—¯ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°", requirementAllParts => 1},
    {name => "æŸ˜æ¦´çŸ³ã®æ´»åŠ›", fieldName => "garnetEnergy", prices => {"å°" => 200, "ä¸­" => 800, "å¤§" => 4000}, ability => "â—¯ï¼¨ï¼°å¼·åŒ–"},
    {name => "æŸ˜æ¦´çŸ³ã®ç”Ÿå‘½åŠ›", fieldName => "garnetLife", prices => {"å°" => 300, "ä¸­" => 1200, "å¤§" => 6000}, ability => "â—¯ï¼¨ï¼°è¶…å¼·åŒ–"},
    {name => "ç¸žç‘ªç‘™ã®æºã‚‰ãŽ", fieldName => "onyx", prices => {"ä¸­" => 600, "å¤§" => 3000}, ability => "â—¯ãƒžãƒŠãƒ–ãƒ­ãƒƒã‚¯"},
    {name => "è¡€è‚‰ã®èµ¤é‰„", fieldName => "hematite", prices => {"å°" => 100, "ä¸­" => 400, "å¤§" => 2000}, ability => "â—¯ç§»å‹•åŠ›å¼·åŒ–", requirementAllParts => 1},
    {name => "çŸ³ç«ã®é»„é‰„", fieldName => "pyrite", prices => {"ä¸­" => 800, "å¤§" => 4000}, ability => "â—¯é«˜é€Ÿåå¿œ", requirementAllParts => 1},
    {name => "ç•°æ–¹ã®è«é’çŸ³", fieldName => "cordierite", prices => {"å°" => 150, "ä¸­" => 600}, ability => "â—¯æ°´ä¸­ç‰¹åŒ–", requirementAllParts => 1, additionalField => "åœ°ä¸Šç§»å‹•é€Ÿåº¦"},
    {name => "æœˆé•·çŸ³ã®å®‰ã‚‰ãŽ", fieldName => "moonstone", prices => {"å°" => 250, "ä¸­" => 1000, "å¤§" => 5000}, ability => "ã€Œå¼±ç‚¹ï¼šãªã—ã€", requirementAllParts => 1},
    {name => "çŸ³è‹±ã®é€”çµ¶", fieldName => "quartzDisruption", prices => {"ä¸­" => 1000, "å¤§" => 5000}, ability => "â—¯å±žæ€§è€æ€§", requirementAllParts => 1},
);

sub getGolemReinforcementItems {
    my @result = ();

    for my $h (@golemReinforcementItems) {
        my %item = %{Clone::clone($h)};
        $item{abilityRaw} = $item{ability};
        $item{ability} = ::textToIcon($item{ability});
        push(@result, \%item);
    }

    return @result;
}

1;